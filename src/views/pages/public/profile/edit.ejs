<%- contentFor('body') %>

<div class="container mt-4">
  <h1 class="mb-4">プロフィール編集</h1>

  <form action="/profile/<%= profileUser.id %>/edit" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="name" class="form-label">ユーザー名</label>
      <input type="text" class="form-control" id="name" name="name" value="<%= profileUser.name %>" required>
    </div>

    <div class="mb-3">
      <label for="bio" class="form-label">自己紹介</label>
      <textarea class="form-control" id="bio" name="bio" rows="3"><%= profileUser.profile?.bio || '' %></textarea>
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">場所</label>
      <input type="text" class="form-control" id="location" name="location" value="<%= profileUser.profile?.location || '' %>">
    </div>

    <div class="mb-3">
      <label for="website" class="form-label">ウェブサイト</label>
      <input type="url" class="form-control" id="website" name="website" value="<%= profileUser.profile?.website || '' %>">
    </div>

    <div class="mb-3">
      <label for="avatar" class="form-label">プロフィール画像</label>
      <input type="file" class="form-control" id="avatar" name="avatar" accept="image/*">
      <% if (profileUser.profile?.avatarPath) { %>
        <img src="/uploads/<%= profileUser.profile.avatarPath %>" alt="現在のプロフィール画像" class="mt-2" style="max-width: 200px;">
      <% } %>
    </div>

    <button type="submit" class="btn btn-primary">更新</button>
    <a href="/profile/<%= profileUser.id %>" class="btn btn-secondary">キャンセル</a>
  </form>
</div> 